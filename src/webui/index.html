<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./vars.css">
  <link rel="stylesheet" href="./style.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  
  <style>
   a,
   button,
   input,
   select,
   h1,
   h2,
   h3,
   h4,
   h5,
   * {
       box-sizing: border-box;
       margin: 0;
       padding: 0;
       border: none;
       text-decoration: none;
       background: none;
   
       -webkit-font-smoothing: antialiased;
   }
   
   menu, ol, ul {
       list-style-type: none;
       margin: 0;
       padding: 0;
   }

   .kp-kafa {
     padding: 15px;
   }

   .kp-kafa-title {
     color: #f4f6fc;
     font-family: "NotoSans-Medium", sans-serif;
     font-size: 26px;
     font-weight: 500;
     margin-bottom: 20px;
   }

   .kp-kafa-bar-container {
     display: flex;
     align-items: center;
     gap: 15px;
     height: 220px;
   }

   .kp-kafa-bar {
     width: 40px;
     height: 200px;
     background: rgba(255, 255, 255, 0.1);
     border-radius: 20px;
     position: relative;
     overflow: hidden;
   }

   .kp-kafa-fill {
     position: absolute;
     bottom: 0;
     left: 0;
     width: 100%;
     height: 40%;
     background: linear-gradient(180deg, #FF0000 0%, #FF5C00 100%);
     transition: height 0.5s ease;
     border-radius: 20px;
   }

   .kp-kafa-labels {
     display: flex;
     flex-direction: column;
     justify-content: space-between;
     height: 200px;
     color: #9999a7;
     font-family: "NotoSans-Medium", sans-serif;
     font-size: 16px;
   }

   .kp-kafa-value {
     color: #f4f6fc;
     font-family: "NotoSans-Medium", sans-serif;
     font-size: 24px;
     margin-left: 10px;
   }
   </style>
  <title>Document</title>
</head>
<body>
  <div class="page-transition">
    <div class="top"></div>
    <div class="bottom"></div>
  </div>
  <div class="slide-16-9-1">
    <div class="nav-item kontrol-paneli">
      <img class="nav-icon" src="assets/images/kontrol-panel-icon0.svg" />
      <div class="nav-text">Kontrol Paneli</div>
    </div>
    <div class="nav-item konumland-rma">
      <img class="nav-icon" src="assets/images/group-86570.svg" />
      <div class="nav-text">Konumlandırma</div>
    </div>
    <div class="nav-item kamera-verileri">
      <img class="nav-icon" src="assets/images/group-86730.svg" />
      <div class="nav-text">Kamera Verileri</div>
    </div>
    <div class="nav-item sens-r-verileri">
      <img class="nav-icon" src="assets/images/sens-r-verileri-icon0.svg" />
      <div class="nav-text">Sensör Verileri</div>
    </div>
    <div class="nav-item zleme">
      <div class="nav-icon">
        <img class="group-8656" src="assets/images/group-86560.svg" />
        <img class="subtract" src="assets/images/subtract0.svg" />
      </div>
      <div class="nav-text">İzleme</div>
    </div>
    <div class="nav-item api-test">
      <div class="nav-icon">
        <img class="group-8656" src="assets/images/chart-alt-fill0.svg" />
      </div>
      <div class="nav-text">API Test</div>
    </div>
    <div class="nav-item log-izleme-nav">
      <div class="nav-icon">
        <img class="group-8656" src="assets/images/file-list-3-line0.svg" />
      </div>
      <div class="nav-text">Log İzleme</div>
    </div>
    <div class="smartsaw">
      <span class="smartsaw-span">SMART</span>
      <span class="smartsaw-span2">SAW</span>
    </div>

    <div class="kp-kafa">
      <div class="kp-kafa-title">Kafa Yüksekliği</div>
      <div class="kp-kafa-bar-container">
        <div class="kp-kafa-bar">
          <div class="kp-kafa-fill"></div>
        </div>
        <div class="kp-kafa-labels">
          <span class="kp-max-label">300 mm</span>
          <span class="kp-mid-label">150 mm</span>
          <span class="kp-min-label">0 mm</span>
        </div>
        <div class="kp-kafa-value">150.0 mm</div>
      </div>
    </div>

    <div class="kp-adaptif-kesim">
      <div class="kp-lineer">Uzman Sistem</div>
      <div class="kp-lineer-kesim-daire"></div>
      <div class="kp-akilli">Fuzzy</div>
      <div class="kp-ak-ll-kesim-daire"></div>
      <div class="kp-yapay-zeka">Yapay Zeka</div>
      <div class="kp-yapay-zeka-daire"></div>
      <div class="kp-yava">Yavaş</div>
      <div class="kp-yava-daire"></div>
      <div class="kp-standart">Standart</div>
      <div class="kp-standart-daire"></div>
      <div class="kp-h-zl">Hızlı</div>
      <div class="kp-ellipse-15"></div>
      <div class="kp-line-61"></div>
      <div class="kp-kesim-modu">Kesim Modu</div>
      <div class="kp-on-off-buton">
        <div class="kp-rectangle-1"></div>
        <div class="kp-ellipse-1"></div>
        <div class="kp-on-off-text">OFF</div>
      </div>
      <div class="kp-adaptif-kesim2">Adaptif Kesim</div>
    </div>

    <div class="kp-kesim-kontrol">
      <div class="kp-kesim-kontrol2">Kesim Kontrol</div>
      <div class="kp-line-3"></div>
      <div class="kp-kesim-ba-latma-buton">
        <div class="kp-button"></div>
        <div class="kp-icon">
          <img class="kp-vector" src="assets/images/vector0.svg" />
          <img class="kp-clip-path-group" src="assets/images/clip-path-group0.svg" />
          <img class="kp-vector2" src="assets/images/vector1.svg" />
          <img class="kp-vector3" src="assets/images/vector2.svg" />
        </div>
      </div>
      <div class="kp-kesim-ba-latma">Kesim Başlatma</div>
      <div class="kp-kesim-ba-latma-daire"></div>
      <div class="kp-kesim-durdurma-buton">
        <div class="kp-button"></div>
        <div class="kp-icon2">
          <img class="kp-vector4" src="assets/images/vector3.svg" />
          <img class="kp-clip-path-group2" src="assets/images/clip-path-group1.svg" />
          <img class="kp-vector5" src="assets/images/vector4.svg" />
          <img class="kp-vector6" src="assets/images/vector5.svg" />
        </div>
      </div>
      <div class="kp-kesim-durdurma">Kesim Durdurma</div>
      <div class="kp-kesim-durdurma-daire"></div>
      <div class="kp-so-utma-s-v-s-buton">
        <div class="kp-button"></div>
        <img class="kp-icon3" src="assets/images/icon2.svg" />
      </div>
      <div class="kp-so-utma-s-v-s">Soğutma Sıvısı</div>
      <div class="kp-so-utma-s-v-s-daire"></div>
      <div class="kp-mengene-kontrol-buton">
        <div class="kp-button"></div>
        <div class="kp-icon4">
          <img class="kp-group" src="assets/images/group0.svg" />
          <img class="kp-group2" src="assets/images/group1.svg" />
          <img class="kp-group3" src="assets/images/group2.svg" />
        </div>
      </div>
      <div class="kp-mengene-kontrol">Mengene Kontrolü</div>
      <div class="kp-mengene-kontrol-daire"></div>
      <div class="kp-tala-temizli-i-buton">
        <div class="kp-button"></div>
        <div class="kp-icon5">
          <img class="kp-group4" src="assets/images/group3.svg" />
        </div>
      </div>
      <div class="kp-tala-temizli-i">Talaş Temizliği</div>
      <div class="kp-tala-temizli-i-daire"></div>
    </div>

    <div class="kp-nme-verileri">
      <div class="kp-nme-verileri2">İnme Verileri</div>
      <div class="kp-line-32"></div>
      <div class="kp-inme-hiz-alani">
        <div class="kp-nme-h-z">İnme Hızı</div>
        <div class="kp-inme-meter">
          <svg viewBox="0 0 100 100">
            <defs>
              <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#FF0000"/>
                <stop offset="100%" style="stop-color:#FF5C00"/>
              </linearGradient>
            </defs>
            <circle class="kp-meter-circle" cx="50" cy="50" r="45"/>
            <circle class="kp-meter-value" cx="50" cy="50" r="45" stroke-dasharray="282.7" stroke-dashoffset="70"/>
          </svg>
          <div class="kp-16-00">54.70</div>
          <input type="number" class="kp-inme-input" step="0.01" min="0" max="100" inputmode="decimal" style="opacity: 0; position: absolute;">
        </div>
      </div>
      <div class="kp-line-4"></div>
      <div class="kp-nme-motor-ak-m">
        <div class="kp-nme-motor-ak-m2">İnme Motor Akım</div>
        <div class="kp-16-002">16.00</div>
      </div>
      <div class="kp-nme-motor-tork">
        <div class="kp-nme-motor-tork2">İnme Motor Tork</div>
        <div class="kp-16-003">16.00</div>
      </div>
    </div>

    <div class="kp-kesme-verileri">
      <div class="kp-kesme-verileri2">Kesme Verileri</div>
      <div class="kp-line-22"></div>
      <div class="kp-kesme-hiz-alani">
        <div class="kp-kesme-h-z">Kesme Hızı</div>
        <div class="kp-kesme-meter">
          <svg viewBox="0 0 100 100">
            <defs>
              <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#FF0000"/>
                <stop offset="100%" style="stop-color:#FF5C00"/>
              </linearGradient>
            </defs>
            <circle class="kp-meter-circle" cx="50" cy="50" r="45"/>
            <circle class="kp-meter-value" cx="50" cy="50" r="45" stroke-dasharray="282.7" stroke-dashoffset="70"/>
          </svg>
          <div class="kp-16-004">78.00</div>
          <input type="number" class="kp-kesme-input" step="0.01" min="0" max="100" inputmode="decimal" style="opacity: 0; position: absolute;">
        </div>
      </div>
      <div class="kp-line-33"></div>
      <div class="kp-erit-motor-ak-m">
        <div class="kp-erit-motor-ak-m2">Şerit Motor Akım</div>
        <div class="kp-16-005">16.00</div>
      </div>
      <div class="kp-erit-motor-tork">
        <div class="kp-erit-motor-tork2">Şerit Motor Tork</div>
        <div class="kp-16-006">16.00</div>
      </div>
    </div>
  </div>

  <script>
    // On/off butonunun tüm iç elementlerini seç
    const onOffButon = document.querySelector('.kp-on-off-buton');
    const onOffElements = onOffButon.querySelectorAll('.kp-rectangle-1, .kp-ellipse-1, .kp-on-off-text');
    const allDaires = document.querySelectorAll('.kp-lineer-kesim-daire, .kp-ak-ll-kesim-daire, .kp-yapay-zeka-daire, .kp-yava-daire, .kp-standart-daire, .kp-ellipse-15');

    // Sayfa yönlendirme işlemleri
    document.querySelector('.kontrol-paneli').addEventListener('click', function() {
      window.location.href = 'index.html';
    });

    document.querySelector('.konumland-rma').addEventListener('click', function() {
      window.location.href = 'konumlandirma.html';
    });

    document.querySelector('.kamera-verileri').addEventListener('click', function() {
      window.location.href = 'kamera-verileri.html';
    });

    document.querySelector('.sens-r-verileri').addEventListener('click', function() {
      window.location.href = 'sensor-verileri.html';
    });

    document.querySelector('.zleme').addEventListener('click', function() {
      window.location.href = 'izleme.html';
    });

    document.querySelector('.api-test').addEventListener('click', function() {
      window.location.href = 'api-test.html';
    });

    document.querySelector('.log-izleme-nav').addEventListener('click', function() {
      window.location.href = 'log-izleme.html';
    });

    // Kesim butonları seçicisini güncelle
    const kesimButonlari = document.querySelectorAll('.kp-lineer, .kp-akilli, .kp-yapay-zeka');
    kesimButonlari.forEach(buton => {
      buton.addEventListener('click', function() {
        if (!onOffButon.classList.contains('active')) return; // On/off kapalıysa tıklamayı engelle
        
        // Önce tüm butonları pasif yap
        kesimButonlari.forEach(b => {
          b.classList.remove('active');
          b.classList.add('deactive');
          // Daireleri kırmızı yap
          if (b.classList.contains('kp-lineer')) {
            document.querySelector('.kp-lineer-kesim-daire').style.background = '#ff0000';
          } else if (b.classList.contains('kp-akilli')) {
            document.querySelector('.kp-ak-ll-kesim-daire').style.background = '#ff0000';
          } else if (b.classList.contains('kp-yapay-zeka')) {
            document.querySelector('.kp-yapay-zeka-daire').style.background = '#ff0000';
          }
        });
        
        // Tıklanan butonu aktif yap
        this.classList.remove('deactive');
        this.classList.add('active');
        // Tıklanan butonun dairesini yeşil yap
        if (this.classList.contains('kp-lineer')) {
          document.querySelector('.kp-lineer-kesim-daire').style.background = '#44f641';
        } else if (this.classList.contains('kp-akilli')) {
          document.querySelector('.kp-ak-ll-kesim-daire').style.background = '#44f641';
        } else if (this.classList.contains('kp-yapay-zeka')) {
          document.querySelector('.kp-yapay-zeka-daire').style.background = '#44f641';
        }
      });
    });

    // On/Off butonu için event listener güncelleme
    onOffElements.forEach(element => {
      element.addEventListener('click', function(e) {
        e.stopPropagation();
        const onOffButon = this.closest('.kp-on-off-buton');
        onOffButon.classList.toggle('active');
        
        const kesimButonlari = document.querySelectorAll('.kp-lineer, .kp-akilli, .kp-yapay-zeka');
        const hizButonlari = document.querySelectorAll('.kp-yava, .kp-standart, .kp-h-zl');
        const onOffText = onOffButon.querySelector('.kp-on-off-text');
        
        if (onOffButon.classList.contains('active')) {
          // ON durumunda
          onOffText.textContent = 'ON';
          kesimButonlari.forEach(buton => {
            buton.style.pointerEvents = 'auto';
            buton.style.opacity = '1';
            buton.classList.remove('active');
            buton.classList.add('deactive');
          });
          hizButonlari.forEach(buton => {
            buton.style.pointerEvents = 'auto';
            buton.style.opacity = '1';
            buton.classList.remove('active');
            buton.classList.add('deactive');
          });
          // Tüm daireleri kırmızı yap
          allDaires.forEach(daire => {
            daire.style.background = '#ff0000';
          });
        } else {
          // OFF durumunda
          onOffText.textContent = 'OFF';
          kesimButonlari.forEach(buton => {
            buton.style.pointerEvents = 'none';
            buton.style.opacity = '0.5';
            buton.classList.remove('active');
            buton.classList.add('deactive');
          });
          hizButonlari.forEach(buton => {
            buton.style.pointerEvents = 'none';
            buton.style.opacity = '0.5';
            buton.classList.remove('active');
            buton.classList.add('deactive');
          });
          // Tüm daireleri gri yap
          allDaires.forEach(daire => {
            daire.style.background = '#4e4e60';
          });
        }
      });
    });

    // İnme hızı için input işlemleri
    const inmeHizAlani = document.querySelector('.kp-inme-hiz-alani');
    const inmeInput = document.querySelector('.kp-inme-input');
    const inmeDisplay = document.querySelector('.kp-16-00');

    inmeHizAlani.addEventListener('click', function(e) {
      // Input'u görünür yap ve değeri ata
      inmeInput.style.opacity = '1';
      inmeInput.value = parseFloat(inmeDisplay.textContent);
      inmeInput.focus();
      // Tüm metni seç
      inmeInput.select();
    });

    // Input'a tıklandığında da tüm metni seç
    inmeInput.addEventListener('click', function() {
      this.select();
    });

    inmeInput.addEventListener('blur', function() {
      inmeInput.style.opacity = '0';
    });

    inmeInput.addEventListener('change', function() {
      let value = parseFloat(this.value);
      
      // Değeri 2 ondalık basamağa yuvarla
      value = Math.round(value * 100) / 100;
      
      // Min-max kontrolü
      if (value < 0) value = 0;
      if (value > 100) value = 100;
      
      // Değeri formatla ve göster
      inmeDisplay.textContent = value.toFixed(2);
      
      // Meter'ı güncelle
      updateMeterFromDisplay();
      
      // Input'u gizle
      inmeInput.style.opacity = '0';
    });

    // Enter tuşuna basıldığında input'u kapat
    inmeInput.addEventListener('keyup', function(e) {
      if (e.key === 'Enter') {
        this.blur();
      }
    });

    // Kesme hızı için input işlemleri
    const kesmeHizAlani = document.querySelector('.kp-kesme-hiz-alani');
    const kesmeInput = document.querySelector('.kp-kesme-input');
    const kesmeDisplay = document.querySelector('.kp-16-004');

    kesmeHizAlani.addEventListener('click', function(e) {
      // Input'u görünür yap ve değeri ata
      kesmeInput.style.opacity = '1';
      kesmeInput.value = parseFloat(kesmeDisplay.textContent);
      kesmeInput.focus();
      // Tüm metni seç
      kesmeInput.select();
    });

    // Input'a tıklandığında da tüm metni seç
    kesmeInput.addEventListener('click', function() {
      this.select();
    });

    kesmeInput.addEventListener('blur', function() {
      kesmeInput.style.opacity = '0';
    });

    kesmeInput.addEventListener('change', function() {
      let value = parseFloat(this.value);
      
      // Değeri 2 ondalık basamağa yuvarla
      value = Math.round(value * 100) / 100;
      
      // Min-max kontrolü
      if (value < 0) value = 0;
      if (value > 100) value = 100;
      
      // Değeri formatla ve göster
      kesmeDisplay.textContent = value.toFixed(2);
      
      // Meter'ı güncelle
      updateKesmeMeterFromDisplay();
      
      // Input'u gizle
      kesmeInput.style.opacity = '0';
    });

    // Enter tuşuna basıldığında input'u kapat
    kesmeInput.addEventListener('keyup', function(e) {
      if (e.key === 'Enter') {
        this.blur();
      }
    });

    // Sayfa yüklendiğinde her iki meter'ı da başlat
    document.addEventListener('DOMContentLoaded', function() {
      updateMeterFromDisplay();
      updateKesmeMeterFromDisplay();
    });

    // Her saniyede bir her iki meter'ı da güncelle
    setInterval(() => {
      updateMeterFromDisplay();
      updateKesmeMeterFromDisplay();
    }, 1000);

    function updateMeterFromDisplay() {
      const valueDisplay = document.querySelector('.kp-16-00');
      const currentValue = parseFloat(valueDisplay.textContent);
      updateMeter(currentValue);
    }

    function updateKesmeMeterFromDisplay() {
      const valueDisplay = document.querySelector('.kp-16-004');
      const currentValue = parseFloat(valueDisplay.textContent);
      updateKesmeMeter(currentValue);
    }

    function updateKesmeMeter(value) {
      // Kesme hızı için min-max değerler
      const MIN_SPEED = 0;
      const MAX_SPEED = 100;
      
      // Gelen değeri yüzdelik değere çevir
      const percentage = ((value - MIN_SPEED) / (MAX_SPEED - MIN_SPEED)) * 100;
      
      // Değeri 0-100 arasına normalize et
      const normalizedValue = Math.min(Math.max(percentage, 0), 100);
      
      // SVG circle çevresini hesapla (2 * PI * r)
      const circumference = 2 * Math.PI * 45;
      
      // Offset değerini hesapla
      const offset = circumference - (normalizedValue / 100 * circumference);
      
      // SVG elementini güncelle
      const meterValue = document.querySelector('.kp-kesme-meter .kp-meter-value');
      meterValue.style.strokeDashoffset = offset;
    }

    function updateMeter(value) {
      // İnme hızı için min-max değerler (örnek olarak 0-100)
      const MIN_SPEED = 0;
      const MAX_SPEED = 100;
      
      // Gelen değeri yüzdelik değere çevir
      const percentage = ((value - MIN_SPEED) / (MAX_SPEED - MIN_SPEED)) * 100;
      
      // Değeri 0-100 arasına normalize et
      const normalizedValue = Math.min(Math.max(percentage, 0), 100);
      
      // SVG circle çevresini hesapla (2 * PI * r)
      const circumference = 2 * Math.PI * 45;
      
      // Offset değerini hesapla
      const offset = circumference - (normalizedValue / 100 * circumference);
      
      // SVG elementini güncelle
      const meterValue = document.querySelector('.kp-meter-value');
      meterValue.style.strokeDashoffset = offset;
    }

    // Kesim Kontrol butonları için event listener'lar
    const kesimKontrolButonlari = document.querySelectorAll('.kp-kesim-ba-latma-buton, .kp-kesim-durdurma-buton, .kp-so-utma-s-v-s-buton, .kp-mengene-kontrol-buton, .kp-tala-temizli-i-buton');
    const kesimKontrolTexts = document.querySelectorAll('.kp-kesim-ba-latma, .kp-kesim-durdurma, .kp-so-utma-s-v-s, .kp-mengene-kontrol, .kp-tala-temizli-i');
    const kesimKontrolDaires = document.querySelectorAll('.kp-kesim-ba-latma-daire, .kp-kesim-durdurma-daire, .kp-so-utma-s-v-s-daire, .kp-mengene-kontrol-daire, .kp-tala-temizli-i-daire');

    // Her buton için click event'i ekle
    kesimKontrolButonlari.forEach((buton, index) => {
        buton.addEventListener('click', function() {
            const text = kesimKontrolTexts[index];
            const daire = kesimKontrolDaires[index];

            // Eğer buton zaten aktifse, pasif yap
            if (text.classList.contains('active')) {
                text.classList.remove('active');
                text.classList.add('deactive');
                text.style.color = '#9999a7';
                daire.style.background = '#ff0000';
            } else {
                // Butonu aktif yap
                text.classList.remove('deactive');
                text.classList.add('active');
                text.style.color = '#f4f6fc';
                daire.style.background = '#44f641';
            }
        });
    });

    // Sayfa yüklendiğinde varsayılan durumları ayarla
    document.addEventListener('DOMContentLoaded', function() {
        // Kesim Başlatma, Soğutma Sıvısı ve Mengene Kontrolü aktif
        ['kp-kesim-ba-latma', 'kp-so-utma-s-v-s', 'kp-mengene-kontrol'].forEach(className => {
            const text = document.querySelector('.' + className);
            const daire = document.querySelector('.' + className + '-daire');
            text.classList.add('active');
            text.style.color = '#f4f6fc';
            daire.style.background = '#44f641';
        });

        // Kesim Durdurma ve Talaş Temizliği pasif
        ['kp-kesim-durdurma', 'kp-tala-temizli-i'].forEach(className => {
            const text = document.querySelector('.' + className);
            const daire = document.querySelector('.' + className + '-daire');
            text.classList.add('deactive');
            text.style.color = '#9999a7';
            daire.style.background = '#ff0000';
        });
    });

    // Kafa yüksekliği için değişkenler
    const kafaFill = document.querySelector('.kp-kafa-fill');
    const kafaValue = document.querySelector('.kp-kafa-value');
    const MAX_HEIGHT = 300; // mm cinsinden maksimum yükseklik
    const DEFAULT_HEIGHT = 108; // varsayılan yükseklik değeri

    // Kafa yüksekliğini güncelleme fonksiyonu
    function updateKafaHeight(height) {
      // Height değeri 0-300 mm arasında olmalı
      const normalizedHeight = Math.min(Math.max(height, 0), MAX_HEIGHT);
      
      // Yüzdelik değere çevir
      const percentage = (normalizedHeight / MAX_HEIGHT) * 100;
      
      // Bar'ı güncelle
      kafaFill.style.height = `${percentage}%`;
      
      // Değeri güncelle
      kafaValue.textContent = `${normalizedHeight.toFixed(1)} mm`;
    }

    // Sayfa yüklendiğinde varsayılan değeri ayarla
    document.addEventListener('DOMContentLoaded', function() {
      updateKafaHeight(DEFAULT_HEIGHT);
    });

    // Daha sonra dışarıdan değer güncellemek için bu fonksiyon kullanılabilir:
    // updateKafaHeight(yeniDeger);

    // Sayfa geçiş animasyonu için fonksiyon
    function pageTransition(url) {
        const transition = document.querySelector('.page-transition');
        
        // Geçiş animasyonunu başlat
        transition.classList.add('active');
        
        // Animasyonun ortasında sayfı değiştir
        setTimeout(() => {
            window.location.href = url;
        }, 300); // Animasyonun tam ortasında
    }

    // Nav item'lara click event listener'ları ekle
    document.querySelectorAll('.nav-item').forEach(item => {
        item.addEventListener('click', function(e) {
            e.preventDefault();
            const className = this.classList[1];
            
            let url;
            switch(className) {
                case 'kontrol-paneli':
                    url = './index.html';
                    break;
                case 'konumland-rma':
                    url = './konumlandirma.html';
                    break;
                case 'kamera-verileri':
                    url = './kamera-verileri.html';
                    break;
                case 'sens-r-verileri':
                    url = './sensor-verileri.html';
                    break;
                case 'zleme':
                    url = './izleme.html';
                    break;
                case 'api-test':
                    url = './api-test.html';
                    break;
                case 'log-izleme-nav':
                    url = './log-izleme.html';
                    break;
            }
            
            pageTransition(url);
        });
    });

    // Sayfa yüklendiğinde giriş animasyonunu göster
    document.addEventListener('DOMContentLoaded', function() {
        const transition = document.querySelector('.page-transition');
        transition.classList.add('active');
        
        setTimeout(() => {
            transition.classList.remove('active');
        }, 100);
    });

    // WebSocket bağlantısı için gerekli değişkenler
    const ws = new WebSocket('ws://localhost:8000/ws');
    let isConnected = false;

    // WebSocket bağlantı yönetimi
    ws.onopen = () => {
        console.log('WebSocket bağlantısı kuruldu');
        isConnected = true;
    };

    ws.onclose = () => {
        console.log('WebSocket bağlantısı kapandı');
        isConnected = false;
    };

    ws.onerror = (error) => {
        console.error('WebSocket hatası:', error);
    };

    ws.onmessage = (event) => {
        const data = JSON.parse(event.data);
        console.log('Sunucudan gelen veri:', data);
        
        // Gelen verilere göre UI'ı güncelle
        if (data.data && data.data.cutting_speed !== undefined) {
            updateKesmeMeter(data.data.cutting_speed);
            document.querySelector('.kp-16-004').textContent = data.data.cutting_speed.toFixed(2);
        }
        if (data.data && data.data.feed_speed !== undefined) {
            updateMeter(data.data.feed_speed);
            document.querySelector('.kp-16-00').textContent = data.data.feed_speed.toFixed(2);
        }
    };

    // Hız değerlerini güncelleme fonksiyonu
    function sendSpeedUpdate(cuttingSpeed, feedSpeed) {
        if (!isConnected) return;
        
        ws.send(JSON.stringify({
            command: 'update_speeds',
            cutting_speed: cuttingSpeed,
            feed_speed: feedSpeed
        }));
    }

    // Kontrol modunu değiştirme fonksiyonu
    function sendControlMode(mode) {
        if (!isConnected) return;
        
        ws.send(JSON.stringify({
            command: 'set_control_mode',
            mode: mode
        }));
    }

    // Acil duruş fonksiyonu
    function sendEmergencyStop() {
        if (!isConnected) return;
        
        ws.send(JSON.stringify({
            command: 'emergency_stop'
        }));
    }

    // Event listener'ları güncelle
    kesmeInput.addEventListener('change', function() {
        let value = parseFloat(this.value);
        value = Math.min(Math.max(value, 0), 100);
        
        const feedSpeed = parseFloat(document.querySelector('.kp-16-00').textContent);
        sendSpeedUpdate(value, feedSpeed);
        
        // ... existing code ...
    });

    inmeInput.addEventListener('change', function() {
        let value = parseFloat(this.value);
        value = Math.min(Math.max(value, 0), 100);
        
        const cuttingSpeed = parseFloat(document.querySelector('.kp-16-004').textContent);
        sendSpeedUpdate(cuttingSpeed, value);
        
        // ... existing code ...
    });

    // Kontrol modu butonları için event listener'ları güncelle
    kesimButonlari.forEach(buton => {
        buton.addEventListener('click', function() {
            if (!onOffButon.classList.contains('active')) return;
            
            let mode;
            if (this.classList.contains('kp-lineer')) {
                mode = 'linear';
            } else if (this.classList.contains('kp-akilli')) {
                mode = 'fuzzy';
            } else if (this.classList.contains('kp-yapay-zeka')) {
                mode = 'ml';
            }
            
            if (mode) {
                sendControlMode(mode);
            }
            
            // ... existing code ...
        });
    });
  </script>
</body>
</html>